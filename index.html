<!-- … WSZYSTKO POWYŻEJ ZOSTAJE BEZ ZMIAN … -->

<!-- DODANE NA SAM KONIEC, TUŻ PRZED </body> -->

<!-- COOKIE BAR -->
<style>
.cookiebar{
position:fixed;
bottom:0;
left:0;
right:0;
background:#2f2f2f;
color:white;
padding:15px 20px;
display:flex;
justify-content:space-between;
align-items:center;
gap:15px;
font-size:14px;
z-index:9999;
transition:.4s ease;
}

.cookiebar.hide{
transform:translateY(100%);
}

.cookiebar button{
border:none;
padding:10px 18px;
cursor:pointer;
font-weight:600;
border-radius:4px;
}

.cookie-accept{background:#9acb2b;color:#000}
.cookie-decline{background:#555;color:white}

.cookiebar a{
color:white;
text-decoration:underline;
}

@media(max-width:600px){
.cookiebar{flex-direction:column;align-items:flex-start}
}
</style>

<div id="cookiebar" class="cookiebar">
<div id="cookieText"></div>

<div>
<button class="cookie-accept" onclick="acceptCookies()" id="cookieAccept"></button>
<button class="cookie-decline" onclick="declineCookies()" id="cookieDecline"></button>
</div>
</div>

<script>

/* COOKIE TEXTS */

const cookieDict={
en:{
text:'We use analytics to improve our website experience. <a href="privacy.html">Privacy policy</a>',
accept:'Accept',
decline:'Decline'
},
pl:{
text:'Używamy analityki w celu poprawy jakości strony. <a href="privacy.html">Polityka prywatności</a>',
accept:'Akceptuj',
decline:'Odrzuć'
},
de:{
text:'Wir verwenden Analysen zur Verbesserung der Website. <a href="privacy.html">Datenschutz</a>',
accept:'Akzeptieren',
decline:'Ablehnen'
}
};

function updateCookieLang(l){
cookieText.innerHTML=cookieDict[l].text;
cookieAccept.innerText=cookieDict[l].accept;
cookieDecline.innerText=cookieDict[l].decline;
}

/* hook into existing setLang */

const originalSetLang=setLang;
setLang=function(l){
originalSetLang(l);
updateCookieLang(l);
};

/* init */

if(localStorage.getItem("cookiesAccepted")){
document.getElementById("cookiebar").style.display="none";
}else{
updateCookieLang('en');
}

/* actions */

function acceptCookies(){
localStorage.setItem("cookiesAccepted","yes");
document.getElementById("cookiebar").classList.add("hide");
}

function declineCookies(){
localStorage.setItem("cookiesAccepted","no");
document.getElementById("cookiebar").classList.add("hide");
}

/* auto hide on scroll */

let lastScroll=0;
window.addEventListener("scroll",()=>{
const current=window.scrollY;
if(current>lastScroll){
cookiebar.classList.add("hide");
}
lastScroll=current;
});

</script>

</body>
</html>
